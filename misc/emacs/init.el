;; Show init.el file on startup(setq initial-buffer-choice "~/.emacs.d/init.el");; Trying out different themes:;; (load-theme 'wombat);; (load-theme 'solarized-dark);; (load-theme 'tango-dark);; (load-theme 'melancholy);; Set font and fontsize(set-face-attribute 'default nil :font "Source Code Pro" :height 105)(setq inhibit-startup-message t)           ; Don't show start screen(setq visible-bell t)                      ; Set up the visible bell(setq delete-by-moving-to-trash t)         ; Don't ever delete files permanently(setq-default indent-tabs-mode nil)        ; Required to make autoindent work with tab size;; (setq-default tab-width 4)                 ; Set number of spaces per tab;; (setq indent-line-function 'insert-tab)    ; Set autoindent to tab(setq-default c-basic-offset 4);; (load-file "~/.emacs.d/gnus_config.el");; (add-hook 'after-init-hook 'init-gnus)(add-hook 'emacs-startup-hook 'init-treemacs);; (add-hook 'emacs-startup-hook 'init-shell);; (add-hook 'prog-mode-hook 'highlight-numbers-mode)(scroll-bar-mode -1)               ; Disable visible scrollbar(tool-bar-mode -1)                 ; Disable the toolbar(tooltip-mode -1)                  ; Disable tooltips(set-fringe-mode 5)                ; Give some breathing room(menu-bar-mode -1)                 ; Disable the menu bar(global-display-line-numbers-mode) ; Display line numbers(show-paren-mode 1)                ; Highlight matching parenthesis(toggle-frame-maximized)           ; Toggles full-screen on startup(display-time)                     ; Displays time in mode-line(global-hl-line-mode 1)            ; Toggle highlighting for current line(delete-selection-mode 1)          ; Delete selected text if you start typing after selection(global-hl-todo-mode 1)            ; Enable tag highlighting in comments globally;; Define custom keybinds;; (global-set-key (kbd "<escape>")  'keyboard-escape-quit)(global-set-key (kbd "C-x C-o")     'delete-window);; (global-set-key (kbd "C-d")         'forward-char);; (global-set-key (kbd "C-a")         'backward-char)(global-set-key (kbd "C-e")         'forward-word)(global-set-key (kbd "C-q")         'backward-word)(global-set-key (kbd "M-e")         'move-end-of-line)(global-set-key (kbd "M-q")         'move-beginning-of-line)(global-set-key (kbd "M-n")         'forward-sentence)(global-set-key (kbd "M-p")         'backward-sentence)(global-set-key (kbd "C-r")         'comment-or-uncomment-region-or-line)(global-set-key (kbd "C-S-d")       "\C-a\C- \C-n\M-w\C-y\C-p")(global-set-key (kbd "C-S-w")       "\C-a\C- \C-e\M-w")(global-set-key (kbd "C-v")         'yank)(global-set-key (kbd "C-z")         'undo)(global-set-key (kbd "C-f")         'isearch-forward)(define-key isearch-mode-map "\C-f" 'isearch-repeat-forward) ; makes it behave like the standard bind C-s(global-set-key (kbd "C-c C-c")     'kill-ring-save)(global-set-key (kbd "C-s")         'save-buffer)(global-set-key (kbd "C-x C-k")     'kill-current-buffer)(global-set-key (kbd "<tab>")       'tab-region)(global-set-key (kbd "<backtab>")   'untab-region)(global-set-key (kbd "C-x C-b")     'switch-to-buffer)(global-set-key (kbd "C-S-f")       'elgrep)(global-set-key (kbd "C-o")         'other-window)(global-set-key (kbd "<f5>")        'my-compile-command)(global-set-key (kbd "<f6>")        'my-run-command);; (global-set-key (kbd "<f9>")        'fetch-mail)(global-set-key (kbd "<f8>")        'xref-find-definitions-other-window)(global-set-key (kbd "C-ö")         "{")(global-set-key (kbd "C-ä")         "}")(global-set-key (kbd "C-ü")         "[")(global-set-key (kbd "C-+")         "]");; Make ctrl-backspace killword instead of the hungry delete that overwrites it in python mode(add-hook 'python-mode-hook  (lambda ()     (define-key python-mode-map (kbd "C-c C-c")       'kill-ring-save)     (define-key python-mode-map (kbd "<C-backspace>") 'backward-kill-word)     (define-key python-mode-map (kbd "C-S-d")         "\C-a\C- \C-n\M-w\C-y\C-p")    )  )(add-hook 'c++-mode-hook  (lambda ()     (define-key c++-mode-map (kbd "C-c C-c")       'kill-ring-save)      )  )(add-hook 'compilation-mode-hook  (lambda ()     (define-key compilation-mode-map (kbd "C-o")           'other-window)    )  );; Function definitions(defun init-treemacs nil  (interactive)  (treemacs)  (other-window -1)  )(defun init-shell nil  (interactive)  (shell-command "D:\\programming\\shell.bat")  )(defun search-in-current-dir nil  (interactive)  (elgrep)  ;; "<RETURN>"  ;; "<RETURN>"     );; (defun fetch-mail nil;;     (interactive);;     ;; (split-window-below);;     (gnus-fetch-group "mail.misc");;     ;; (gnus);;  )(defun my-split-window-right (&optional arg)  "Split the current window 70/30 rather than 50/50.  A single-digit prefix argument gives the top window arg*10%."  (interactive "P")  (let ((proportion (* (or arg 3) 0.1)))    (split-window-right (round (* proportion (window-width))))))(defun my-split-window-below (&optional arg)  "Split the current window 70/30 rather than 50/50.  A single-digit prefix argument gives the top window arg*10%."  (interactive "P")  (let ((proportion (* (or arg 9) 0.1)))    (split-window-below (round (* proportion (window-height))))))(defun my-run-command nil  (interactive)    (if (string-equal mode-name "C++//l")      (progn      (shell-command "D:\\programming\\run.bat")	)()	 )    )(defun my-compile-command nil  (interactive)  (when (get-buffer "*compilation*")        (shrink-window 10))  (setq split-width-threshold nil)  (if (string-equal mode-name "Python")      (progn        (setq compile-command (concat "python36 " buffer-file-name))	(compile compile-command)	)()     )  (if (string-equal mode-name "Tcl")      (progn        (setq compile-command (concat "tclsh " buffer-file-name))	(compile compile-command)	)()	 )  (if (string-equal mode-name "C++//l")      (progn        (setq compile-command "D:\\programming\\shell.bat & D:\\programming\\build.bat")	(compile compile-command)	)()	 )  (setq split-width-threshold 160)  (enlarge-window 10)  )(defun indent-region-custom(numSpaces)  (progn    ;; default to start and end of current line    (setq regionStart (line-beginning-position))    (setq regionEnd (line-end-position))    ;; if there's a selection, use that instead of the current line    (when (use-region-p)      (setq regionStart (region-beginning))      (setq regionEnd (region-end))      )    (save-excursion                            ; restore the position afterwards      (goto-char regionStart)                  ; go to the start of region      (setq start (line-beginning-position))   ; save the start of the line      (goto-char regionEnd)                    ; go to the end of region      (setq end (line-end-position))           ; save the end of the line      (indent-rigidly start end numSpaces)     ; indent between start and end      (setq deactivate-mark nil)               ; restore the selected region      )    )  )(defun untab-region (N)  (interactive "p")  (indent-region-custom -4)  )(defun tab-region (N)  (interactive "p")  (if (active-minibuffer-window)      (minibuffer-complete)          ; tab is pressed in minibuffer window -> do completion    (if (use-region-p)               ; tab is pressed in any other buffer -> execute with space insertion        (indent-region-custom 4)     ; region was selected, call indent-region-custom      (insert "    ")                ; else insert four spaces as expected      )    )  )(defun comment-or-uncomment-region-or-line ()    "Comments or uncomments the region or the current line if there's no active region."    (interactive)    (let (beg end)        (if (region-active-p)            (setq beg (region-beginning) end (region-end))            (setq beg (line-beginning-position) end (line-end-position)))        (comment-or-uncomment-region beg end)))(defun my-c++-mode-hook ()  (setq c-basic-offset 4)  (c-set-offset 'substatement-open 0))(add-hook 'c++-mode-hook 'my-c++-mode-hook);; (defun init-gnus nil;;    (interactive);;    ;; (gnus-fetch-group "mail.misc");;    (gnus);; );; Initialize package sources(require 'package)(setq package-archives '(("melpa" . "https://melpa.org/packages/")                         ("org"   . "https://orgmode.org/elpa/")                         ("elpa"  . "https://elpa.gnu.org/packages/")))(package-initialize)(unless package-archive-contents (package-refresh-contents));; Initialize use-package on non-Linux platforms(unless (package-installed-p 'use-package)   (package-install 'use-package))(require 'use-package)(setq use-package-always-ensure t)(use-package highlight-numbers)(add-hook 'prog-mode-hook 'highlight-numbers-mode)(use-package modern-cpp-font-lock  :ensure t)(modern-c++-font-lock-global-mode t);; (use-package flycheck);; (global-flycheck-mode); Loads doom-theme and applies it to treemacs(use-package doom-themes  :ensure t  ;; :defer t  :config  :init (load-theme 'doom-one t)  ;; Global settings (defaults)  (setq doom-themes-enable-bold t    ; if nil, bold is universally disabled        doom-themes-enable-italic t) ; if nil, italics is universally disabled  ;; (load-theme 'doom-one t)  ;; Enable flashing mode-line on errors  ;; (doom-themes-visual-bell-config)  ;; Enable custom neotree theme (all-the-icons must be installed!)  ;; (doom-themes-neotree-config)  ;; or for treemacs users  (setq doom-themes-treemacs-theme "doom-colors") ; use "doom-colors" for less minimal icon theme  (doom-themes-treemacs-config)  ;; Corrects (and improves) org-mode's native fontification.  ;; (doom-themes-org-config)  );; Loads the spacemacs colour-theme;; (use-package spacemacs-theme;;   :defer t;;   :init (load-theme 'spacemacs-dark t);;   :custom (spacemacs-theme-comment-bg nil);;   (spacemacs-theme-underline-parens nil));; Enables window with command log that helps with learning emacs(use-package command-log-mode);; Improves the completion and UI of finding anything from commands to files and buffers etc(use-package vertico  :ensure t  :custom  (vertico-cycle t)  :init  (vertico-mode));; Saves the history of commands such that they can be easily repeated and looked up in the vertico list(use-package savehist  :init  (savehist-mode));; Shows additional information about buffers and files (like size and status) in the vertico list(use-package marginalia  :after vertico  :ensure t  :custom  (marginalia-annotators '(marginalia-annotators-heavy marginalia-annotators-light nil))  :init  (marginalia-mode));; Modifies the modeline with some symbols and git status stuff(use-package doom-modeline  ;; :after (doom-themes)  :ensure t  :init (doom-modeline-mode 1)  :custom    ((doom-modeline-height 10))  );; Whether display the gnus notifications.;; (setq doom-modeline-gnus t);; Wheter gnus should automatically be updated and how often (set to 0 or smaller than 0 to disable);; (setq doom-modeline-gnus-timer 1);; Exclude groups from notification display;; (setq doom-modeline-gnus-excluded-groups '("nndraft:drafts"));; Set Python interpreter(setq python-shell-interpreter "python36");; Set Tcl interpreter(setq tcl-application "tclsh");; Setup git interface(use-package magit  :custom  (magit-display-buffer-function #'magit-display-buffer-same-window-except-diff-v1));; NOTE: Make sure to configure a GitHub token before using this package!;; - https://magit.vc/manual/forge/Token-Creation.html#Token-Creation;; - https://magit.vc/manual/ghub/Getting-Started.html#Getting-Started(use-package forge)  ;; Help for keybindings (good for learning)(use-package which-key  :init (which-key-mode)  :diminish which-key-mode  :config  (setq which-key-idle-delay 1));; Project management library(use-package projectile  :diminish projectile-mode  :config (projectile-mode)  :custom ((projectile-completion-system 'ivy))  :bind-keymap  ("C-c p" . projectile-command-map)  :init  ;; NOTE: Set this to the folder where you keep your Git repos!  (when (file-directory-p "D:/")    (setq projectile-project-search-path '("D:/")))  (setq projectile-switch-project-action #'projectile-dired));; Helps with auto-completion(use-package company :ensure t :config (setq company-idle-delay 0       company-minimum-prefix-length 2       company-show-numbers t       company-tooltip-limit 10       company-tooltip-align-annotations t       ;; invert the navigation direction if the the completion popup-isearch-match       ;; is displayed on top (happens near the bottom of windows)       company-tooltip-flip-when-above t) (global-company-mode t) )(use-package python-mode);; (set-face-attribute 'font-lock-preprocessor-face nil;;   :weight 'normal;;   :foreground "#B48EAD");; (add-hook 'python-mode-hook;;   (lambda ();;     (font-lock-add-keywords 'python-mode;;      `((,(concat;;        "\\<[_a-zA-Z][_a-zA-Z0-9]*\\>"       ; Object identifier;;        "\\(?:\\.\\|->\\)"                   ; Member access;;        "\\<\\([_a-zA-Z][_a-zA-Z0-9]*\\)\\>" ; Member identifier;;        "\\s *"                              ; Optional white space;;        "(")				       ; Paren for method invocation;;        1 'font-lock-preprocessor-face t)));;     );;   );; (add-hook 'python-mode-hook;; 	  (lambda ();; 	    (font-lock-add-keywords;; 	     nil;; 	     '(("^[[:space:]]*\\(@[^(#[:space:]\n]*\\)" 1 'font-lock-preprocessor-face)))));; (add-hook 'python-mode-hook;;   (lambda ();; (font-lock-add-keywords 'python-mode;;  '(((concat;;        "\\<[_a-zA-Z][_a-zA-Z0-9]*\\>"       ; Object identifier;;        "\\(?:\\.\\|->\\)"                   ; Member access;;        "\\<\\([_a-zA-Z][_a-zA-Z0-9]*\\)\\>" ; Member identifier;;        "\\s *"                              ; Optional white space;;        "(");;     ;; (1 '(:inherit 'font-lock-keyword-face :background "#FF0000"));;     (1 '(:inherit 'font-lock-preprocessor-face :background "#FF0000" :weight bold));;     ;; (3 '(:background "#F3F3F3"));;     );;   ;; ("^\s*\\(class\s*\\)\\(.*\\)\\((.*):.*\xa\\)";;   ;;   (1 '(:inherit 'font-lock-keyword-face :background "#EEEEEE" :height 1.4));;   ;;   (2 '(:inherit 'font-lock-function-name-face :background "#EEEEEE" :height 1.4 :weight bold));;   ;;   (3 '(:background "#EEEEEE" :height 1.4));;   ;;   );;        ));;     );;   )    ;; (add-hook 'python-mode-hook;; 	  (lambda ();; 	    (font-lock-add-keywords;; 	     nil;; 	     '(("\\(^@[^(]*\\)" 1 'font-lock-preprocessor-face)))));; Anaconda setup (use-package anaconda-mode  :ensure t  :config  ;; :bind  ;; (:map global-map  ;;       ("M-."       . 'anaconda-mode-find-definitions-other-window)  (add-hook 'python-mode-hook 'anaconda-mode)  (add-hook 'python-mode-hook 'anaconda-eldoc-mode)  );; Virtual environment, helps with anaconda-mode completion(use-package pyvenv  :after anaconda-mode  :config  (pyvenv-mode 1));; Use company for anaconda-completions(use-package company-anaconda  :ensure t  :init (require 'rx)  :after (company)  :config  (add-to-list 'company-backends 'company-anaconda)  )(use-package company-quickhelp  ;; Quickhelp may incorrectly place tooltip towards end of buffer  ;; See: https://github.com/expez/company-quickhelp/issues/72  :ensure t  :config  (company-quickhelp-mode)  );; Setup sidebar that shows files in directory(use-package treemacs  :ensure t  :defer t  :init  (with-eval-after-load 'winum    (define-key winum-keymap (kbd "C-o") #'treemacs-select-window))  :config  (progn    (setq treemacs-collapse-dirs                   (if treemacs-python-executable 3 0)          treemacs-deferred-git-apply-delay        0.5          treemacs-directory-name-transformer      #'identity          treemacs-display-in-side-window          t          treemacs-eldoc-display                   t          treemacs-file-event-delay                5000          treemacs-file-extension-regex            treemacs-last-period-regex-value          treemacs-file-follow-delay               0.2          treemacs-file-name-transformer           #'identity          treemacs-follow-after-init               t          treemacs-expand-after-init               t          treemacs-git-command-pipe                ""          treemacs-goto-tag-strategy               'refetch-index          treemacs-indentation                     2          treemacs-indentation-string              " "          treemacs-is-never-other-window           nil          treemacs-max-git-entries                 5000          treemacs-missing-project-action          'ask          treemacs-move-forward-on-expand          nil          treemacs-no-png-images                   nil          treemacs-no-delete-other-windows         t          treemacs-project-follow-cleanup          nil          treemacs-persist-file                    (expand-file-name ".cache/treemacs-persist" user-emacs-directory)          treemacs-position                        'left          treemacs-read-string-input               'from-child-frame          treemacs-recenter-distance               0.1          treemacs-recenter-after-file-follow      nil          treemacs-recenter-after-tag-follow       nil          treemacs-recenter-after-project-jump     'always          treemacs-recenter-after-project-expand   'on-distance          treemacs-litter-directories              '("/node_modules" "/.venv" "/.cask")          treemacs-show-cursor                     nil          treemacs-show-hidden-files               t          treemacs-silent-filewatch                nil          treemacs-silent-refresh                  nil          treemacs-sorting                         'alphabetic-asc          treemacs-select-when-already-in-treemacs 'move-back          treemacs-space-between-root-nodes        t          treemacs-tag-follow-cleanup              t          treemacs-tag-follow-delay                1.5          treemacs-text-scale                      nil          treemacs-user-mode-line-format           nil          treemacs-user-header-line-format         nil          treemacs-wide-toggle-width               70          treemacs-width                           25          treemacs-width-increment                 1          treemacs-width-is-initially-locked       t          treemacs-workspace-switch-cleanup        nil)    ;; The default width and height of the icons is 22 pixels. If you are    ;; using a Hi-DPI display, uncomment this to double the icon size.    ;;(treemacs-resize-icons 44)    (treemacs-follow-mode t)    (treemacs-filewatch-mode t)    (treemacs-fringe-indicator-mode 'always)    (pcase (cons (not (null (executable-find "git")))                 (not (null treemacs-python-executable)))      (`(t . t)       (treemacs-git-mode 'deferred))      (`(t . _)       (treemacs-git-mode 'simple)))    )    ;; (treemacs-hide-gitignored-files-mode nil))  :bind  (:map global-map        ("M-0"       . treemacs-select-window)        ("C-x t 1"   . treemacs-delete-other-windows)        ("<f3>"      . treemacs)        ("C-x t B"   . treemacs-bookmark)        ("C-x t C-t" . treemacs-find-file)        ("C-x t M-t" . treemacs-find-tag)));; (use-package treemacs-evil;;   :after (treemacs evil);;   :ensure t)(use-package treemacs-projectile  :after (treemacs projectile)  :ensure t)(use-package treemacs-icons-dired  :hook (dired-mode . treemacs-icons-dired-enable-once)  :ensure t)(use-package treemacs-magit  :after (treemacs magit)  :ensure t);; For searching strings in multiple files(use-package elgrep);; Add different facecolors for useful tags in comments with search functionality(use-package hl-todo)(setq hl-todo-keyword-faces      '(	("TODO"   . "#FF0000")        ("FIXME"  . "#b22222")        ("DEBUG"  . "#A020F0")        ("HACK"   . "#daa520")        ("NOTE"   . "#ffdab9")       )      );; (global-hl-todo-mode);; (add-hook 'prog-mode-hook 'hl-todo-mode);; (use-package treemacs-persp ;;treemacs-perspective if you use perspective.el vs. persp-mode;;   :after (treemacs persp-mode) ;;or perspective vs. persp-mode;;   :ensure t;;   :config (treemacs-set-scope-type 'Perspectives));;   ;; Optional, enable =visual-line-mode= for our narrow dired buffer:;;   (add-hook 'dired-toggle-mode-hook;;             (lambda () (interactive);;               (visual-line-mode 1);;               (setq-local visual-line-fringe-indicators '(nil right-curly-arrow));;               (setq-local word-wrap nil))))(custom-set-variables ;; custom-set-variables was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. '(custom-safe-themes   '("835868dcd17131ba8b9619d14c67c127aa18b90a82438c8613586331129dda63" default)) '(package-selected-packages   '(hl-todo comment-tags comment-tags-mode modern-cpp-font-lock highlight-umbers highlightn-umbers flycheck highlight-numbers elgrep doom-themes treemacs-magit treemacs-icons-dired treemacs-projectile dired-toggle dired-sidebar which-key vertico use-package spacemacs-theme pyvenv python-mode marginalia lsp-ui friendly-shell-command friendly-shell forge doom-modeline dap-mode counsel-projectile company-quickhelp company-box company-anaconda command-log-mode)))(custom-set-faces ;; custom-set-faces was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. )